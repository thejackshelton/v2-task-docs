---
title: Tasks
---

import serverRack from '~/assets/server-rack.webp'
import theClient from '~/assets/the-client.webp'

# Tasks

Tasks are how your application responds to change.

When you're building an application, things change constantly. Users type in inputs, data arrives from servers, timers fire, and state needs to be updated. Tasks help you manage all of these changes by:

1. **Watching for changes** - Tasks track the state you care about
2. **Running your code** - When tracked state changes, your task runs again
3. **Cleaning up** - Tasks clean up previous code before running again

## Tasks Run Based on Environment

Tasks *initially* run in the same place where your component is created. 

<div class="relative overflow-hidden">
```tsx
  export default component$(() => {
    console.log("I run once when rendered!")

    useTask$(() => {
      console.log("I run once based on the environment!")
    })

    useComputed$(() => {
      console.log("I also run initially!")
    })

    useResource$(() => {
      console.log("me too!")
    })

    return (
      <div>
        <h1>Tasks</h1>
      </div>
    )
  })
```
</div>

### Created in the Browser

When a component is created from user interaction (like clicking a button), it runs in the browser:

<Showcase name="task-conditional" />

#### Client side rendering

When a visitor of your site first reaches a page, and that page uses [CSR](https://prismic.io/blog/client-side-rendering) for rendering, the task code will initially run in the browser.

```tsx
useTask$(() => {
  // browser only code when client side rendered
})
```

  <img 
    src={theClient} 
    alt="The Client" 
    class="max-w-50 mix-blend-luminosity rounded-full border-2 border-white mx-auto" 
  />









### Created on the Server

When a component is part of your initial page load, it runs on the server:

<Showcase name="task-server" />

  <img src={serverRack} alt="Server Rack" class="border-2 border-gray-50 max-w-50 object-cover rounded-full mx-auto" />



## The Multi-Source Counter

Consider a character counter that needs to stay updated when text changes from **any source**. This example shows how Tasks help manage:
- Input validation
- API calls
- Cleanup operations

<Showcase name="task-counter" />
